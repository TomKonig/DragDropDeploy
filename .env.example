# Backend
PORT=3000
NODE_ENV=development
JWT_SECRET=change_me
ENCRYPTION_KEY=change_me # used to encrypt stored secrets (future)

# Database
# For local host access (Prisma CLI, admin tools) docker-compose.override.yml maps postgres -> localhost:5433
# Inside containers use host 'postgres'; from host tools use 'localhost:5433'
DATABASE_URL=postgres://ddd:change_me@postgres:5432/ddd
# MIGRATOR_DATABASE_URL=postgres://migrator:change_me@postgres:5432/ddd # future dedicated role

# Redis
REDIS_URL=redis://redis:6379

# Traefik / Domains
PRIMARY_DOMAIN=localhost
API_HOST=api.localhost
APP_HOST=app.localhost

# Feature Flags
ENABLE_RLS=false
ENABLE_STRIPE=false
ENABLE_OAUTH=false
BUILD_MODE=local

# Optional Object Storage (S3 compatible)
S3_ENDPOINT=
S3_BUCKET=
S3_ACCESS_KEY=
S3_SECRET_KEY=

# SMTP / Email (future)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=

# OAuth Providers (enable with ENABLE_OAUTH=true)
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=
OAUTH_GITHUB_CLIENT_ID=
OAUTH_GITHUB_CLIENT_SECRET=

# Stripe (enable with ENABLE_STRIPE=true)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Rate Limits (defaults if blank handled in code)
RATE_LIMIT_LOGIN=10
RATE_LIMIT_BUILD_TRIGGER=20

# Operator Defaults
SIGNUP_MODE=open # open|invite|closed
DEFAULT_BUILD_TIMEOUT_SEC=600
MAX_VERSION_RETENTION=10
BUILD_CONCURRENCY_GLOBAL=4
BUILD_CONCURRENCY_PER_USER=2

# Build Restrictions
BUILD_ALLOWED_SSGS=HUGO,NODE,STATIC
CUSTOM_BUILD_COMMAND_WHITELIST=build,export

# Maintenance flag (runtime stored in DB prefer) - env fallback
MAINTENANCE_MODE=false

# Outbound webhook secret (future encrypted storage)
OUTBOUND_WEBHOOK_SECRET=
